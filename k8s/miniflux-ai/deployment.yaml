apiVersion: apps/v1
kind: Deployment
metadata:
  name: miniflux-ai
  labels:
    app: miniflux-ai
spec:
  replicas: 1
  selector:
    matchLabels:
      app: miniflux-ai
  template:
    metadata:
      name: miniflux-ai
      labels:
        app: miniflux-ai
    spec:
      containers:
        - name: miniflux-ai
          image: ghcr.io/ansg191/miniflux-ai:main@sha256:9b6baa3d437a73be05b22cedefbbc06ae6f5a479a9a21b3c45a5c7d637e7b2dc
          imagePullPolicy: Always
          env:
            - name: TZ
              value: "UTC"
          volumeMounts:
            - mountPath: /app/config.yml
              name: config
              subPath: config.yml
          #resources:
          #  requests:
          #    cpu: 250m
          #    memory: 500Mi
          #  limits:
          #    memory: 1Gi
      restartPolicy: Always
      volumes:
        - name: config
          secret:
            secretName: miniflux-ai-config
