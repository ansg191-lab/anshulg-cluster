apiVersion: v1
data:
  anshulg.com.log.config: "version: 1\n\nformatters:\n  precise:\n    \n    format:
    '%(asctime)s - %(name)s - %(lineno)d - %(levelname)s - %(request)s - %(message)s'\n
    \   \n\nhandlers:\n\n\n  console:\n    class: logging.StreamHandler\n    formatter:
    precise\n\nloggers:\n    # This is just here so we can leave `loggers` in the
    config regardless of whether\n    # we configure other loggers below (avoid empty
    yaml dict error).\n    _placeholder:\n        level: \"INFO\"\n\n    \n    \n
    \   synapse.storage.SQL:\n        # beware: increasing this to DEBUG will make
    synapse log sensitive\n        # information such as access tokens.\n        level:
    INFO\n    \n\n    \n\nroot:\n    level: INFO\n\n\n    handlers: [console]\n\n\ndisable_existing_loggers:
    false"
  homeserver.yaml: |-
    # Configuration file for Synapse.
    #
    # This is a YAML file: see [1] for a quick introduction. Note in particular
    # that *indentation is important*: all the elements of a list or dictionary
    # should have the same indentation.
    #
    # [1] https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html
    #
    # For more information on how to configure Synapse, including a complete accounting of
    # each option, go to docs/usage/configuration/config_documentation.md or
    # https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html
    server_name: "anshulg.com"
    pid_file: /data/homeserver.pid
    listeners:
      - port: 8008
        tls: false
        type: http
        x_forwarded: true
        resources:
          - names: [ client, federation ]
            compress: false
    database:
      name: psycopg2
      txn_limit: 10000
      args:
        user: matrix
        password: password
        database: synapse
        host: postgres.matrix.svc.cluster.local
        port: 5432
        cp_min: 5
        cp_max: 10
    log_config: "/config/anshulg.com.log.config"
    media_store_path: /data/media_store
    registration_shared_secret: "4VjT5~UynRCiIshN,fK@QlTA^0nSVx.ktVoAO1q_wt*p&Pj6Eg"
    report_stats: true
    macaroon_secret_key: ":2#SMn,iXsL7HZomX&M#5T#zy_KA*3fo4n@S1.xCoL_9#ueO0x"
    form_secret: "sB^W63LmMlsH*1n:.cG&wHypKmf0h0EGM+t_,ff=VnD6C3tldh"
    signing_key_path: "/config/anshulg.com.signing.key"
    trusted_key_servers:
      - server_name: "matrix.org"
    serve_server_wellknown: false
    public_baseurl: "https://matrix.anshulg.com/"
    enable_registration: false
    recaptcha_public_key: "6LfRiLAnAAAAACXqKvPzbw6oB3roQSTrONAXZZY7"
    recaptcha_private_key: "6LfRiLAnAAAAAF92i3hdW2NiCKgRPNnqAITAktoO"
    enable_registration_captcha: true


    # vim:ft=yaml
kind: ConfigMap
metadata:
  name: matrix
  namespace: matrix
